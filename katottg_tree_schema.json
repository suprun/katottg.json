{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Кодифікатор адміністративно-територіальних одиниць та територій територіальних громад України",
  "description": "Ця схема описує структуру даних Кодифікатора адміністративно-територіальних одиниць та територій територіальних громад (КАТОТТГ) України, що затверджений наказом Міністерства розвитку громад та територій України. Файл містить ієрархічні дані про адміністративні одиниці та території громад, включаючи їхні ідентифікатори, назви, категорії та рівні підпорядкування.",
  "type": "object",
  "required": [
    "date",
    "source",
    "meta",
    "admin_units"
  ],
  "properties": {
    "date": {
      "type": "string",
      "format": "date",
      "description": "Дата випуску або останнього оновлення даних у форматі РРРР-ММ-ДД.",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
    },
    "source": {
      "type": "string",
      "description": "Джерело даних (наказ або інший документ), на основі якого сформовано кодифікатор."
    },
    "meta": {
      "type": "object",
      "description": "Метадані, що описують ключі, рівні адміністративно-територіального устрою та категорії одиниць, які використовуються в даних кодифікатора.",
      "required": [
        "keys",
        "level",
        "category"
      ],
      "properties": {
        "keys": {
          "type": "object",
          "description": "Пояснення внутрішніх ключів та їх описів, які застосовуються в елементах кодифікатора.",
          "required": [
            "id",
            "name",
            "category",
            "level",
            "subitems"
          ],
          "properties": {
            "id": {
              "type": "string",
              "description": "Опис для ключа 'id' (код згідно КАТОТТГ)."
            },
            "name": {
              "type": "string",
              "description": "Опис для ключа 'name' (назва)."
            },
            "category": {
              "type": "string",
              "description": "Опис для ключа 'category' (категорія)."
            },
            "level": {
              "type": "string",
              "description": "Опис для ключа 'level' (рівень)."
            },
            "subitems": {
              "type": "string",
              "description": "Опис для ключа 'subitems' (вкладені елементи)."
            }
          }
        },
        "level": {
          "type": "object",
          "description": "Описи для кожного адміністративного рівня у КАТОТТГ.",
          "patternProperties": {
            "^[1-5]$": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "category": {
          "type": "object",
          "description": "Опис категорії адміністративно-територіального рівня у КАТОТТГ.",
          "patternProperties": {
            "^[A-Z]$": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "admin_units": {
      "type": "array",
      "description": "Список адміністративних одиниць та територій територіальних громад, структурований ієрархічно від найвищого до найнижчого рівня КАТОТТГ.",
      "items": {
        "$ref": "#/definitions/AdminUnit"
      }
    }
  },
  "definitions": {
    "AdminUnit": {
      "type": "object",
      "required": [
        "id",
        "level",
        "name",
        "category"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "Унікальний ідентифікатор адміністративної одиниці або території територіальної громади згідно з КАТОТТГ (код).",
          "pattern": "^UA\\d{17}$",
          "minLength": 19,
          "maxLength": 19
        },
        "level": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Рівень адміністративної одиниці або території територіальної громади в ієрархії КАТОТТГ."
        },
        "name": {
          "type": "string",
          "description": "Назва адміністративної одиниці або території територіальної громади."
        },
        "category": {
          "type": "string",
          "description": "Категорія адміністративної одиниці або території територіальної громади.",
          "enum": [
            "O",
            "K",
            "P",
            "H",
            "M",
            "T",
            "C",
            "X",
            "B"
          ]
        },
        "subitems": {
          "type": "array",
          "description": "Масив вкладених адміністративних одиниць або територій територіальних громад, що підпорядковуються поточному елементу.",
          "items": {
            "$ref": "#/definitions/AdminUnit"
          },
          "default": []
        }
      }
    }
  }
}
